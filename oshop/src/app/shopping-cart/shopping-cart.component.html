<h1>Shoping Cart</h1>

<div class="row" *ngIf="cart$ | async as cart">
    <div class="col-10">


        <p>
            you have {{cart.totalItemsCount}} items in your shopping cart.
            <button (click)="clearCart()" class="btn btn-light btn-sm">
                Clear Shopping Cart
            </button>
        </p>

        <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th>Product</th>
                    <th class="text-center" style="width: 230px">Quantity</th>
                    <th class="text-end" style="width: 200px">Price</th>
                </tr>

                <tr *ngFor="let item of cart.items" class="align-middle">
                    <td>
                        <div [style.backgroundImage]="'url('+item.imageUrl+')'" class="thumbnail" ></div>
                    </td>
                    <td>
                        {{item.title}}
                    </td>

                    <td>
                        <product-quantity [product]="item" [shopping-cart]="cart">

                        </product-quantity>
                    </td>

                    <td class="text-end">
                        {{item.totalPrice | currency:'USD':'symbol'}}
                    </td>
                </tr>
            </thead>

            <tfoot>
                <th></th>
                <th></th>
                <th></th>
                <th class="text-end" >{{cart.totalPrice | currency:'USD':'symbol'}}</th>
            </tfoot>
        </table>
    </div>
    <div *ngIf="cart.items.length">
        <a routerLink="/check-out" class="btn btn-primary">
            Check Out
        </a>
        
    </div>
    
</div>
